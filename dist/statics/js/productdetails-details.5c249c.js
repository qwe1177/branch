webpackJsonp([24],{1425:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(40),o=(a.n(n),a(0)),r=a.n(o),i=a(12),l=(a.n(i),a(2)),s=a(5),c=a(37),u=a.n(c),d=a(38),p=(a.n(d),a(1426)),m=a(1427),f=(a.n(m),a(1428)),h=a(39),y=[u.a],b=Object(l.createStore)(p.a,l.applyMiddleware.apply(void 0,y));Object(i.render)(r.a.createElement(s.Provider,{store:b},r.a.createElement(h.a,null,r.a.createElement(f.a,null))),document.getElementById("root"))},1426:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[]},t=arguments[1];switch(t.type){case c.e:return u({},e,t.payload);default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[]},t=arguments[1];switch(t.type){case c.a:return u({},e,t.payload);default:return e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"提示",ModalText:"内容",visible:!1,previewVisible:!1,visible2:!1,jsbuttionVisible:!1},t=arguments[1];switch(t.type){case c.b:return u({},e,t.payload);default:return e}}var i=a(2),l=a(26),s=(a.n(l),a(1)),c=(a.n(s),a(325)),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=Object(i.combineReducers)({tablemodel:n,detailsmodalmodel:o,modalmodelall:r});t.a=d},1427:function(e,t){},1428:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(28),l=(a.n(i),a(29)),s=a.n(l),c=a(13),u=(a.n(c),a(14)),d=a.n(u),p=a(0),m=a.n(p),f=a(1429),h=(a.n(f),a(20)),y=(a.n(h),a(30)),b=(a.n(y),a(1430)),v=(d.a.Item,s.a.Option,function(e){function t(){return n(this,t),o(this,e.apply(this,arguments))}return r(t,e),t.prototype.render=function(){var e=d.a.create()(b.a);return m.a.createElement("div",null,m.a.createElement("h3",{className:"page-title"},"报价单详情"),m.a.createElement("div",{className:"tabel-wrap"},m.a.createElement(e,null)))},t}(p.Component));t.a=v},1429:function(e,t){},1430:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(34),l=(a.n(i),a(35)),s=a.n(l),c=a(21),u=(a.n(c),a(22)),d=a.n(u),p=a(19),m=(a.n(p),a(18)),f=a.n(m),h=a(27),y=(a.n(h),a(33)),b=a.n(y),v=a(24),g=(a.n(v),a(25)),E=a.n(g),x=a(232),w=(a.n(x),a(233)),O=a.n(w),S=a(46),q=(a.n(S),a(47)),I=a.n(q),N=a(28),j=(a.n(N),a(29)),C=a.n(j),k=a(13),P=(a.n(k),a(14)),V=a.n(P),T=a(0),_=a.n(T),M=a(1432),F=(a.n(M),a(1)),Q=(a.n(F),a(10)),R=a(23),K=a(12),W=(a.n(K),a(5)),L=a(325),B=a(1370),D=a(1433),G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},z=V.a.Item,A=C.a.Option,J=(I.a.MonthPicker,I.a.RangePicker,function(e,t,a){return{children:e,props:{}}}),$=function(e){function t(a){n(this,t);var r=o(this,e.call(this,a));return r.GetQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(t);return null!=a?unescape(a[2]):null},r.handledeleteall=function(){var e=r.state,t=e.selectedallKeys;e.quotationId;if(null==t||""==t){var a={message:"提示：",description:"请选择需要删除的选择项",duration:3};O.a.open(a)}else r.props.dispatch(Object(L.d)({visible:!0}))},r.ModalhandleCancellist=function(e){return function(){var t;r.props.dispatch(Object(L.d)((t={},t[e]=!1,t)))}},r.ModalhandleallOk=function(){var e=r.state,t=e.selectedallKeys,a=e.quotationId,n={quotationId:a,skuIds:t.join()};R.a.get(Q.c+"/quotation/delQuotationSkuByIds.do?",{params:n}).then(function(e){if(1==e.data.code){r.props.dispatch(Object(L.d)({visible:!1}));var t={message:"提示：",description:e.data.msg,duration:3};O.a.open(t)}else{r.props.dispatch(Object(L.d)({visible:!1}));var a={message:"提示：",description:e.data.msg,duration:3};O.a.open(a)}r.subsellist()}).catch(function(e){r.setState({isFetching:!1})})},r.subsellist=function(){var e=r.state,t=(e.pagination,e.parlist),a=t;R.a.get(Q.c+"/quotation/viewQuotationSku.do",{params:a}).then(function(e){var t=e.data.data;if(1==e.data.code)r.props.dispatch(Object(L.f)({data:t.quotationSkus}));else if(0==e.data.code){var a={message:"提示：",description:e.data.msg,duration:3};O.a.open(a)}}).catch(function(e){r.setState({isFetching:!1})})},r.uploaddetails=function(e){r.props.dispatch(Object(L.c)({data:e})),r.setState({brandSelectorVisible:!0})},r.handleSubmit=function(e){e.preventDefault(),r.props.form.validateFields(function(e,t){var a=r.state.quotationId,n=t.typeValue;void 0!=n&&null!=n||(n="");var o=t.type;"全部"==o?o="":"规格型号"==o?o="specParams":"规格编码"==o?o="specCode":"名称"==o?o="pName":"品牌"==o&&(o="brand");var i={type:o,typeValue:n,quotationId:a};r.setState({parlist:{type:o,typeValue:n,quotationId:a}}),R.a.get(Q.c+"/quotation/viewQuotationSku.do",{params:i}).then(function(e){var t=e.data.data;if(1==e.data.code)r.props.dispatch(Object(L.f)({data:t.quotationSkus}));else if(0==e.data.code){var a={message:"提示：",description:e.data.msg,duration:3};O.a.open(a)}}).catch(function(e){r.setState({isFetching:!1})})})},r.handleChoosed=function(e,t){if("true"==e){r.setState({brandSelectorVisible:!1});var a={message:"提示：",description:t,duration:2};O.a.open(a)}else{r.setState({brandSelectorVisible:!1});var n={message:"提示：",description:t,duration:2};O.a.open(n)}setTimeout(function(){location.reload()},2e3)},r.handleCancel=function(){r.setState({brandSelectorVisible:!1})},r.state={quotationId:"",selectedallKeys:[],parlist:{},brandSelectorVisible:!1,quotation:{quotationId:"",companyName:"",contacts:"",contactsWay:"",userName:""}},r.rowSelection={onChange:function(e,t){r.setState({selectedallKeys:e})}},r.columns=[{title:"规格编码",dataIndex:"specCode",className:"column-money",render:J},{title:"名称",dataIndex:"pName",className:"column-money",render:J},{title:"品牌",dataIndex:"brand",className:"column-money",render:J},{title:"类目",dataIndex:"categoryName",className:"column-money",render:J},{title:"规格型号",dataIndex:"specParams",className:"column-money",render:J},{title:"单位",dataIndex:"unit",className:"column-money",render:J},{title:"最小起订量",dataIndex:"minQuantity",className:"column-money",render:J},{title:"进价",dataIndex:"price",className:"column-money",render:J},{title:"税点",dataIndex:"taux",className:"column-money",render:J},{title:"发票类型",dataIndex:"invoice",className:"column-money",render:J},{title:"交期",dataIndex:"deliveryTime",className:"column-money",render:J},{title:"付款方式",dataIndex:"payWay",className:"column-money",render:J},{title:"最新编辑时间",dataIndex:"updateTime",className:"column-money",render:J},{title:"操作",dataIndex:"Operation",className:"column-money",render:function(e,t,a){return _.a.createElement("span",null,_.a.createElement("a",{href:"javascript:;",onClick:function(){return r.uploaddetails(t)}},"修改"))}}],r}return r(t,e),t.prototype.componentDidMount=function(){var e=this;R.a.get(Q.c+"/queryCategoryList.do").then(function(t){var a=(t.data.data,e.GetQueryString("quotationId")),n=e.state,o=n.quotation;n.parlist;e.setState({quotationId:a,parlist:{type:"",typeValue:"",quotationId:a}});var r={type:"",typeVale:"",quotationId:a};R.a.get(Q.c+"/quotation/viewQuotationSku.do",{params:r}).then(function(t){var a=t.data.data;if(1==t.data.code)e.setState({quotation:G({},o,{quotationId:a.quotation.quotationId,companyName:a.quotation.companyName,contacts:a.quotation.contacts,contactsWay:a.quotation.contactsWay,userName:a.quotation.userName})}),e.props.dispatch(Object(L.f)({data:t.data.data.quotationSkus}));else if(0==t.data.code){var n={message:"提示：",description:t.data.msg,duration:3};O.a.open(n)}}).catch(function(t){e.setState({isFetching:!1})})}).catch(function(t){e.setState({isFetching:!1})})},t.prototype.render=function(){var e=this,t=this.props.form.getFieldDecorator,a=(this.state.quotation,this.props.tablemodel.data),n=this.rowSelection,o=this.columns;return _.a.createElement("div",null,_.a.createElement("div",null,_.a.createElement(V.a,{layout:"horizontal",onSubmit:this.handleSubmit,className:"pd20"},_.a.createElement(d.a,{gutter:24,style:{padding:"8px 0px",margin:"0px"}},_.a.createElement(E.a,{span:4,style:{paddingLeft:"0px"}},_.a.createElement(z,null,t("type",{initialValue:"全部"})(_.a.createElement(C.a,{style:{width:"100%"}},_.a.createElement(A,{value:"规格型号"},"规格型号"),_.a.createElement(A,{value:"规格编码"},"规格编码"),_.a.createElement(A,{value:"名称"},"名称"),_.a.createElement(A,{value:"品牌"},"品牌"))))),_.a.createElement(E.a,{span:8},_.a.createElement(z,null,t("typeValue")(_.a.createElement(b.a,{style:{width:"100%"}})))),_.a.createElement(E.a,{span:7}),_.a.createElement(E.a,{span:5},_.a.createElement(f.a,{type:"primary",htmlType:"submit"},"查询"),_.a.createElement(f.a,{type:"ghost",className:"resetButton",onClick:this.handleReset},"重置"))))),_.a.createElement("div",{className:"bjed"}),_.a.createElement(d.a,{gutter:24,style:{padding:"8px 30px",margin:"0px"}},_.a.createElement(E.a,{span:5,style:{padding:"3px 0px",margin:"0px"}},"报价单编号：",_.a.createElement("span",null,this.state.quotation.quotationId)),_.a.createElement(E.a,{span:5,style:{padding:"3px 0px",margin:"0px"}},"供应商：",_.a.createElement("span",null,this.state.quotation.companyName)),_.a.createElement(E.a,{span:5,style:{padding:"3px 0px",margin:"0px"}},"联系人：",_.a.createElement("span",null,this.state.quotation.contacts)),_.a.createElement(E.a,{span:5,style:{padding:"3px 0px",margin:"0px"}},"联系电话：",_.a.createElement("span",null,this.state.quotation.contactsWay)," "),_.a.createElement(E.a,{span:4,style:{padding:"3px 0px",margin:"0px"}},"上传者：",_.a.createElement("span",null,this.state.quotation.userName)," ")),_.a.createElement("div",{className:"bjed"}),_.a.createElement("div",{className:"pd20"},_.a.createElement("div",{className:"tit"},_.a.createElement("div",{className:"g-fl"},"商品信息")),_.a.createElement(s.a,{columns:o,dataSource:a,rowKey:function(e){return e.id},bordered:!0,className:"g-mt",rowSelection:n,footer:function(){return _.a.createElement("div",null,_.a.createElement(f.a,{className:"editable-add-btn",type:"primary",onClick:e.handledeleteall},"删除"))}}),_.a.createElement(B.default,{onChoosed:this.handleChoosed.bind(this),visible:this.state.brandSelectorVisible,onCancel:this.handleCancel.bind(this)}),_.a.createElement(D.a,G({},G({},this.props.modalmodelall,{ModalText:"确认全部删除吗？"}),{onOk:this.ModalhandleallOk,confirmLoading:this.props.modalmodelall.confirmLoading,onCancel:this.ModalhandleCancellist("visible")}))))},t}(_.a.Component);t.a=Object(W.connect)(function(e){return G({},e)})(V.a.create({mapPropsToFields:function(e){return e.Infos},onFieldsChange:function(e,t){e.dispatch(baseInfoForm(t))}})($))},1432:function(e,t){},1433:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(31),l=(a.n(i),a(32)),s=a.n(l),c=a(0),u=a.n(c),d=function(e){function t(){return n(this,t),o(this,e.apply(this,arguments))}return r(t,e),t.prototype.render=function(){return u.a.createElement("div",null,u.a.createElement(s.a,this.props,u.a.createElement("div",{style:{textAlign:"center"}},this.props.ModalText)))},t}(u.a.Component);t.a=d}},[1425]);