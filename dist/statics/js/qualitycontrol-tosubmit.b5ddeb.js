webpackJsonp([21],{1474:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(40),r=(a.n(n),a(0)),o=a.n(r),i=a(12),l=(a.n(i),a(2)),s=a(5),c=a(37),d=a.n(c),u=a(38),p=(a.n(u),a(1475)),m=a(39),h=a(1476),f=[d.a],b=Object(l.createStore)(p.a,l.applyMiddleware.apply(void 0,f));Object(i.render)(o.a.createElement(s.Provider,{store:b},o.a.createElement(m.a,null,o.a.createElement(h.a,null))),document.getElementById("root"))},1475:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orOut:{name:"orOut",value:"2"}},t=arguments[1];switch(t.type){case s.a:return c({},e,t.payload);default:return e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"提示",ModalText:"内容",visible:!1,previewVisible:!1,visible2:!1,jsbuttionVisible:!1,submitVisible:!1},t=arguments[1];switch(t.type){case s.b:return c({},e,t.payload);default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case s.d:return c({},e,t.payload);case s.c:return c({},d);default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data2:[],count:0},t=arguments[1];switch(t.type){case s.e:return c({},e,t.payload);default:return e}}var l=a(2),s=a(185),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d={data1:[{key:"1",No:"1",brankName:{name:"brankName1",message:"请输入品牌名称",placeholder:"品牌名称"},brankType:{name:"brankType1",message:"请输入品牌类型",placeholder:"品牌类型"},authorization:{name:"authorization1",message:"请上传授权书",placeholder:"授权书"},registration:{name:"registration1",message:"请输入注册证",placeholder:"注册证"},certification:{name:"certification1",message:"请输入认证报告",placeholder:"认证报告"},otherAptitude:{name:"otherAptitude1",message:"请输入其他资料",placeholder:"其他资料",num:3},Operation:"删除"}],count:1},u=Object(l.combineReducers)({Infos:n,modalmodel:r,tablemodel1:o,tablemodel2:i});t.a=u},1476:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,l,s=a(0),c=a.n(s),d=a(1477),u=(a.n(d),a(30)),p=(a.n(u),a(5)),m=a(2),h=a(15),f=a(185),b=a(1478),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y=(i=Object(p.connect)(function(e){return g({},e)},function(e){return Object(m.bindActionCreators)(f.f,e)}))(l=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype.componentWillMount=function(){var e=Object(h.c)("supplierId");this.props.fetchTable2Info(e)},t.prototype.render=function(){return c.a.createElement("div",null,c.a.createElement("h3",{className:"page-title"},"申请品控"),c.a.createElement(b.a,null))},t}(s.Component))||l;t.a=y},1477:function(e,t){},1478:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,l,s,c=a(59),d=(a.n(c),a(41)),u=a.n(d),p=a(34),m=(a.n(p),a(35)),h=a.n(m),f=a(19),b=(a.n(f),a(18)),g=a.n(b),y=a(121),v=(a.n(y),a(122)),E=a.n(v),w=a(21),k=(a.n(w),a(22)),N=a.n(k),I=a(24),C=(a.n(I),a(25)),O=a.n(C),x=a(43),j=(a.n(x),a(44)),T=a.n(j),L=a(27),F=(a.n(L),a(33)),V=a.n(F),A=a(67),q=(a.n(A),a(65)),P=a.n(q),S=a(46),U=(a.n(S),a(47)),M=a.n(U),z=a(28),D=(a.n(z),a(29)),R=a.n(D),B=a(13),$=(a.n(B),a(14)),Y=a.n($),G=a(0),Q=a.n(G),K=a(1479),W=(a.n(K),a(1)),H=a.n(W),Z=a(105),J=a.n(Z),X=a(1480),ee=a(15),te=a(10),ae=a(73),ne=a(5),re=a(2),oe=a(185),ie=a(111),le=a(23),se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},de=Y.a.Item,ue=R.a.Option,pe=M.a.RangePicker,me=P.a.Group,he=V.a.TextArea,fe=(l=i=function(e){function t(a){n(this,t);var o=r(this,e.call(this,a));s.call(o);var i=location.pathname;return o.downloadUrl=te.c+"/quotation/exportQuotationData.do?token="+Object(ee.b)().token+"&moduleUrl="+i,o.addSheetUrl="/productpricing/upload/index.html?supplierId="+Object(ee.c)("supplierId"),o.columns=[{title:"序号",dataIndex:"No",width:50,render:function(e){return e}},{title:"品牌名称",className:"column-money",dataIndex:"brankName",width:160,render:o.addinputdata2},{title:"品牌类型",dataIndex:"brankType",render:o.addselectdata,width:160},{title:"授权书",dataIndex:"authorization",render:o.adduploaddata,width:160},{title:"注册证",dataIndex:"registration",render:o.adduploaddata,width:160},{title:"认证报告",dataIndex:"certification",render:o.adduploaddata,width:160},{title:"其他资料",dataIndex:"otherAptitude",render:o.adduploaddata,width:160},{title:"操作",width:60,dataIndex:"Operation",render:function(e,t,a){return Q.a.createElement("div",null,Q.a.createElement("a",{onClick:o.Modalshow(a)},"删除"))}}],o.columns1=[{title:"序号",dataIndex:"index",className:"column-money",width:50},{title:"报价单编号",dataIndex:"quotationId",className:"column-money",width:160},{title:"SKU数量",dataIndex:"skuTotal",className:"column-money",width:160},{title:"上传人",dataIndex:"userName",className:"column-money",width:160},{title:"上传时间",dataIndex:"createTime",className:"column-money",width:160},{title:"操作",dataIndex:"option",className:"column-money",width:160,render:function(e,t,a){var n=o.downloadUrl+"&quotationId="+t.quotationId;return Q.a.createElement("a",{href:n},"下载")}}],o.state={brandSelectorVisible:!1,brankName:"",brankId:""},o}return o(t,e),t.prototype.beforeUpload=function(e){var t=/jpeg|jpg|png|gif/,a=t.test(e.type);a||T.a.error("上传图片类型不符合！");var n=e.size/1024/1024<4;return n||T.a.error("图片大小超过4M！"),a&&n},t.prototype.componentDidMount=function(){var e=this,t=Object(ee.c)("supplierId");Object(oe.g)(t).then(function(t){if(t.data.code="1"){var a=t.data.data,n=a.companyName,r=a.companyAddress,o=a.creditNumber,i=a.province,l=a.city,s=a.deadline,c=a.organization,d=a.corporation,u=a.corporationGender,p=a.idcard,m=a.idcards,h=(a.card1,a.card2,a.license),f=a.qualification,b=a.undertaking,g=a.officespace,y=a.workshop,v=(a.brankName,a.brankType,a.authorization),E=(a.registration,a.certification,a.otherAptitude,a.remark),w=a.supplierBrankList,k=(a.harea,a.hvenue,a.hfloor,a.hdistrict,a.provincebase),N=a.citybase;a.countybase,a.townbase;if(e.props.baseInfoForm({companyName:n,companyAddress:r}),w&&w.length>0){var I=w.map(function(t,a){return{key:t.key,No:t.key,brankName:{name:"brankName"+t.key,initialValue:[t.brankName,t.brankId],message:"请输入品牌名称",placeholder:"品牌名称"},brankType:{name:"brankType"+t.key,initialValue:t.brankType,message:"请输入品牌类型",placeholder:"品牌类型"},authorization:{name:"authorization"+t.key,initialValue:e.fileListhanddle(t.authorization),message:"请上传授权书",placeholder:"授权书"},registration:{name:"registration"+t.key,initialValue:e.fileListhanddle(t.registration),message:"请输入注册证",placeholder:"注册证"},certification:{name:"certification"+t.key,initialValue:e.fileListhanddle(t.certification),message:"请输入认证报告",placeholder:"认证报告"},otherAptitude:{name:"otherAptitude"+t.key,initialValue:e.fileListhanddle(t.otherAptitude),message:"请输入其他资料",placeholder:"其他资料",num:3},Operation:"删除"}});e.props.tablemodelaction({data1:I,count:I.length+1})}for(var C={},O=[["provincebase",k],["citybase",N]],x=O.length,j=0;j<x;j++)O[j][1]&&(C[O[j][0]]={name:O[j][0],value:{key:O[j][1],label:O[j][1]}});e.props.baseInfoForm(C);var T=[];""!=s&&(T=s.split(","),T=T.length?[H()(T[0]),H()(T[1])]:[]);var L=e.fileListhanddle(m),F=e.fileListhanddle(h),V=e.fileListhanddle(f),A=e.fileListhanddle(v),q=e.fileListhanddle(b),P=e.fileListhanddle(g),S=e.fileListhanddle(y);e.props.form.setFieldsValue({creditNumber:o,province:{key:i},city:{key:l},deadline:T,organization:c,corporation:d,corporationGender:u,idcard:p,idcards:L,license:F,qualification:V,authorizationBus:A,undertaking:q,officespace:P,workshop:S,remark:E})}e.props.fetchzonesPosts({url:te.c+"/clue/getZone.do",name:"id",value:"",returnName:"provinces"}),e.props.fetchzonesPosts({url:te.c+"/clue/getArea.do",name:"id",value:"",returnName:"Hareas"})}).catch(function(e){})},t.prototype.render=function(){var e=this,t={labelCol:{span:7},wrapperCol:{span:17}},a={labelCol:{span:4},wrapperCol:{span:20}},n=this.props.form,r=n.getFieldDecorator,o=(n.getFieldsError,n.getFieldError,n.isFieldTouched,this.columns),i=this.columns1,l=this.props.tablemodel1.data1,s=this.props.tablemodel2.data2,c=this.props.Infos,d=c.provinces,u=(c.citys,c.registAddressCitys),p=c.companyName,m=c.companyAddress,f=d?d.map(function(e,t,a){return Q.a.createElement(ue,{key:e.id},e.name)}):[],b=u?u.map(function(e,t,a){return Q.a.createElement(ue,{key:e.id},e.name)}):[],y=this.getLastSelectBrand();return Q.a.createElement(Y.a,{layout:"horizontal",onSubmit:this.handleSubmit,className:"main-submit-form"},Q.a.createElement("div",{className:"audit-tit"},"企业信息"),Q.a.createElement("div",{className:"audit-ress"},Q.a.createElement("div",{className:"oflowen pt20"},Q.a.createElement("div",{className:"g-fl label"},"企业名称"),Q.a.createElement("div",{className:"g-fl pl20"},p)),Q.a.createElement("div",{className:"oflowen pt10"},Q.a.createElement("div",{className:"g-fl label"},"企业地址"),Q.a.createElement("div",{className:"g-fl pl20"},m))),Q.a.createElement("div",{className:"tabel-wrap"},Q.a.createElement("div",{className:"audit-tit"}," 营业品控资料 "),Q.a.createElement(N.a,{gutter:24},Q.a.createElement(O.a,{span:12},Q.a.createElement(de,ce({},t,{label:"营业执照注册号"}),r("creditNumber",{rules:[{required:!1,message:"请输入营业执照注册号"}]})(Q.a.createElement(V.a,{placeholder:"营业执照注册号",style:{width:"50%"},maxLength:"30"})))),Q.a.createElement(O.a,{span:12,style:{textAlign:"left"}},Q.a.createElement(de,ce({label:"营业执照注册地"},t,{style:{width:"100%"}}),r("province",{rules:[{required:!1,message:"请选择省"}]})(Q.a.createElement(R.a,{labelInValue:!0,style:{width:"45%",marginRight:"5px"},placeholder:"请选择省",onChange:this.provincehandle("id","registAddressCitys")},f)),r("city",{rules:[{required:!1,message:"请选择市"}]})(Q.a.createElement(R.a,{labelInValue:!0,style:{width:"45%",marginRight:"5px"},placeholder:"请选择市"},b))))),Q.a.createElement(N.a,{gutter:24},Q.a.createElement(O.a,{span:12},Q.a.createElement(de,ce({},t,{label:"营业执照期限"}),r("deadline",{rules:[{type:"array",required:!1,message:"请选择"}]})(Q.a.createElement(pe,{style:{width:"65%"}})))),Q.a.createElement(O.a,{span:12},Q.a.createElement(de,ce({},t,{label:"登记机构"}),r("organization",{rules:[{required:!1,message:"请输入登记机构"}]})(Q.a.createElement(V.a,{placeholder:"登记机构",style:{width:"50%"}}))))),Q.a.createElement(N.a,{gutter:24},Q.a.createElement(O.a,{span:12,style:{textAlign:"left"}},Q.a.createElement(de,ce({label:"企业法人"},t,{style:{width:"100%"}}),r("corporation",{rules:[{required:!1,message:"请输入企业法人"}]})(Q.a.createElement(V.a,{placeholder:"企业法人",style:{width:"60%",marginRight:"10px"},maxLength:"20"})),r("corporationGender",{rules:[{required:!1,message:"请选择"}],initialValue:this.props.Infos.corporationGender&&this.props.Infos.corporationGender.value})(Q.a.createElement(me,{name:"orwomen"},Object(ae.a)("性别").map(function(e){return Q.a.createElement(P.a,{key:e.value,value:e.value},e.label)}))))),Q.a.createElement(O.a,{span:12},Q.a.createElement(de,ce({},t,{label:"身份证号"}),r("idcard",{rules:[{required:!1,message:"请输入身份证号"},{validator:this.identityCodeValid}]})(Q.a.createElement(V.a,{placeholder:"身份证号",style:{width:"70%"},maxLength:"18"}))))),Q.a.createElement(N.a,{gutter:24},Q.a.createElement(O.a,{span:12},Q.a.createElement(de,ce({label:"法人身份证"},t,{style:{width:"100%"}}),r("idcards",{rules:[{required:!1,message:"请上传法人身份证"}],onChange:this.uploadonChange,valuePropName:"fileList",getValueFromEvent:this.normFile})(Q.a.createElement(E.a,ce({},this.uploadsprops2,{beforeUpload:this.beforeUpload,listType:"picture-card"}),this.uploadicon("idcards",2))))),Q.a.createElement(O.a,{span:12},Q.a.createElement(de,ce({label:"营业执照"},t,{style:{width:"100%"}}),r("license",{rules:[{required:!1,message:"请上传"}],onChange:this.uploadonChange,valuePropName:"fileList",getValueFromEvent:this.normFile})(Q.a.createElement(E.a,ce({},this.uploadsprops2,{beforeUpload:this.beforeUpload,listType:"picture-card"}),this.uploadicon("license",1)))))),Q.a.createElement(N.a,{gutter:24},Q.a.createElement(O.a,{span:12},Q.a.createElement(de,ce({label:"一般人纳税资质"},t,{style:{width:"100%"}}),r("qualification",{rules:[{required:!1,message:"请上传"}],onChange:this.uploadonChange,valuePropName:"fileList",getValueFromEvent:this.normFile})(Q.a.createElement(E.a,ce({},this.uploadsprops2,{beforeUpload:this.beforeUpload,listType:"picture-card"}),this.uploadicon("qualification",1))))),Q.a.createElement(O.a,{span:12},Q.a.createElement(de,ce({label:"法人授权书/代理人授权书"},t,{style:{width:"100%"}}),r("authorizationBus",{rules:[{required:!1,message:"请上传"}],onChange:this.uploadonChange,valuePropName:"fileList",getValueFromEvent:this.normFile})(Q.a.createElement(E.a,ce({},this.uploadsprops2,{beforeUpload:this.beforeUpload,listType:"picture-card"}),this.uploadicon("authorizationBus",1)))))),Q.a.createElement(N.a,{gutter:24},Q.a.createElement(O.a,{span:12},Q.a.createElement(de,ce({label:"廉洁承诺书"},t,{style:{width:"100%"}}),r("undertaking",{rules:[{required:!1,message:"请上传"}],onChange:this.uploadonChange,valuePropName:"fileList",getValueFromEvent:this.normFile})(Q.a.createElement(E.a,ce({},this.uploadsprops2,{beforeUpload:this.beforeUpload,listType:"picture-card"}),this.uploadicon("undertaking",1))))),Q.a.createElement(O.a,{span:12},Q.a.createElement(de,ce({label:"办公场所"},t,{style:{width:"100%"}}),r("officespace",{rules:[{required:!1,message:"请上传"}],onChange:this.uploadonChange,valuePropName:"fileList",getValueFromEvent:this.normFile})(Q.a.createElement(E.a,ce({},this.uploadsprops2,{beforeUpload:this.beforeUpload,listType:"picture-card"}),this.uploadicon("officespace",1)))))),Q.a.createElement(N.a,{gutter:24},Q.a.createElement(O.a,{span:12},Q.a.createElement(de,ce({label:"生产车间/仓库"},t,{style:{width:"100%"}}),r("workshop",{rules:[{required:!1,message:"请上传"}],onChange:this.uploadonChange,valuePropName:"fileList",getValueFromEvent:this.normFile})(Q.a.createElement(E.a,ce({},this.uploadsprops2,{beforeUpload:this.beforeUpload,multiple:!0,listType:"picture-card"}),this.uploadicon("workshop",3))),Q.a.createElement(X.a,ce({},ce({},this.props.modalmodel,{visible:this.props.modalmodel.previewVisible,title:"",width:"650px",style:{maxWidth:"100%"}}),{footer:null,onCancel:this.handleCancel2("previewVisible"),ModalText:Q.a.createElement("img",{alt:"example",style:{maxWidth:"100%"},src:this.props.modalmodel.previewImage})})))))),Q.a.createElement("div",{className:"tabel-wrap"},Q.a.createElement("div",{className:"audit-tit"}," 经营品牌 "),Q.a.createElement("div",{className:"section-wrap alignment-bottom"},Q.a.createElement(h.a,{pagination:!1,columns:o,dataSource:l,bordered:!0,className:"g-mt",footer:function(){return Q.a.createElement("div",{style:{textAlign:"center"}},Q.a.createElement(g.a,{className:"editable-add-btn",onClick:e.handleAdd1},"+添加经营品牌"))}}),Q.a.createElement(X.a,ce({},ce({},this.props.modalmodel,{visible:this.props.modalmodel.visible,ModalText:"确认删除吗?"}),{onOk:this.ModalhandleOk,confirmLoading:this.props.modalmodel.confirmLoading,onCancel:this.ModalhandleCancel("visible")})),Q.a.createElement(ie.default,{onChoosed:this.handleChoosed,visible:this.state.brandSelectorVisible,choosedKeys:y,onCancel:this.handleCancel,type:"single"}))),Q.a.createElement("div",{className:"tabel-wrap"},Q.a.createElement("div",{className:"audit-tit"},Q.a.createElement("span",null," 产品报价")," ",Q.a.createElement("span",{className:"refresh-table-btn",onClick:this.refreshTable}," 刷新列表 ")),Q.a.createElement("div",{className:"section-wrap"},this.props.tablemodel2.data2.length>0?Q.a.createElement(h.a,{rowKey:function(e){return e.quotationId},pagination:!1,columns:i,dataSource:s,bordered:!0,className:"g-mt"}):Q.a.createElement(h.a,{pagination:!1,columns:i,dataSource:s,bordered:!0,className:"g-mt",footer:function(){return Q.a.createElement("div",{style:{textAlign:"center"}},"您还没有添加任何产品报价，请点击",Q.a.createElement("a",{href:e.addSheetUrl,target:"_blank"},"添加报价单"),"至少上传1条记录")}}))),Q.a.createElement("div",{className:"tabel-wrap"},Q.a.createElement("div",{className:"audit-tit"}," 提交备注 "),Q.a.createElement(N.a,{gutter:24,className:"section-wrap"},Q.a.createElement(O.a,{span:20},Q.a.createElement(de,ce({},a,{label:"备注信息"}),r("remark")(Q.a.createElement(he,{rows:4,maxLength:"200"})))))),Q.a.createElement(N.a,null,Q.a.createElement(de,null,Q.a.createElement(g.a,{style:{padding:"2px 55px"},type:"primary",htmlType:"submit"},"提交"))))},t}(Q.a.Component),s=function(){var e=this;this.handleOpenChoose=function(t,a){return function(){e.setState({brandSelectorVisible:!0,brankName:t,brankId:a})}},this.handleChoosed=function(t,a){var n;e.props.form.setFieldsValue((n={},n[e.state.brankName]=a,n[e.state.brankId]=t,n)),e.setState({brandSelectorVisible:!1})},this.handleCancel=function(){e.setState({brandSelectorVisible:!1})},this.getLastSelectBrand=function(){return{labelstr:e.props.form.getFieldValue(e.state.brankName),idstr:e.props.form.getFieldValue(e.state.brankId)}},this.formItemLayout={labelCol:{span:5},wrapperCol:{span:19}},this.objToarrsort=function(e){var t=[],a=[];for(var n in e)n.match(/\d+$/g)?t.push([n,e[n]]):a.push([n,e[n]]);return t.sort(function(e,t){return 1*e[0].match(/\d+$/g).join("")-1*t[0].match(/\d+$/g).join("")}),[].concat(t,a)},this.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll(function(t,a){if(!t){if(0==e.props.tablemodel2.data2.length)return void T.a.error("请至少上传1条报价单!");for(var n={},r=e.objToarrsort(a),o=r.length,i=0;i<o;i++){var l=/\d+$/g,s=r[i][0],c=r[i][1];if(l.test(s)){var d=s.replace(/(.*?)\d+/,"$1");Reflect.has(n,d)?n[d].push(c):(n[d]=[],n[d].push(c))}else n[s]=c}var u={};for(var p in n)"object"===se(n[p])?n[p].constructor===Array?"deadline"==p?u[p]=n[p].map(function(e){return e?e.format("YYYY-MM-DD"):""}).join(","):"birthday"==p?u[p]=n[p].map(function(e){return e?e.format("YYYY-MM-DD"):""}).join(","):"object"==se(n[p][0])&&n[p][0]&&n[p][0].status?u[p]=n[p].map(function(e){return(e.response?e.response.key:e.url).replace(/.*com/g,"")}).join("@"):"object"==se(n[p][0])&&n[p][0].constructor==Array&&n[p][0][0]&&n[p][0][0].status?u[p]=n[p].map(function(e){return e.map(function(e){return(e.response?e.response.key:e.url).replace(/.*com/g,"")}).join("@")}).join(","):u[p]=n[p].join(","):u[p]=n[p].label:n[p]?u[p]=n[p]:""==n[p]&&(u[p]=n[p]);var m=["creditNumber","province","city","deadline","organization","corporation","corporationGender","creditNumber","idcard","idcards","license","qualification","authorizationBus","undertaking","officespace","workshop","brankId","brankName","brankType","authorization","registration","certification","otherAptitude","remark"];u=_.pick(u,m);var h=location.pathname,f=Object(ee.c)("supplierId");u.moduleUrl=h,u.supplierId=f;var b=J.a.stringify(u);le.a.post(te.c+"/qualityControl/addQualityControl.do",b).then(function(e){if(1==e.data.code)if(T.a.success(""+e.data.msg),window.opener&&window.opener.location.reload(),""==document.referrer){var t=e.data.data.type,a=urlParams.moduleId?urlParams.moduleId:"",n=urlParams.systemId?urlParams.systemId:"";"my"==t?detailUrl="/suppliermanage/myClueDetail/":"theHighSeas"==t?detailUrl="/suppliermanage/publicClueDetail/":"underling"==t&&(detailUrl="/suppliermanage/underlingClueDetail/"),setTimeout(function(){location.href=detailUrl+"?systemId="+n+"&moduleId="+a+"&supplierId="+f},1e3)}else setTimeout(function(){location.href=document.referrer},1e3);else T.a.error(""+e.data.msg)}).catch(function(e){})}})},this.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},this.addinputdata=function(t){var a=t.name,n=t.message,r=t.placeholder,o=void 0===r?"":r,i=t.initialValue,l=void 0===i?"":i,s=t.required,c=void 0!==s&&s,d=t.type,u=void 0===d?"string":d;return Q.a.createElement(de,ce({style:{width:"100%"}},ce({},e.formItemLayout,{wrapperCol:{span:24}})),e.props.form.getFieldDecorator(a,{rules:[{required:c,message:n,type:u},{validator:a.match(/^mobile/g)?e.telphonevalid:null}],initialValue:l})(Q.a.createElement(V.a,{placeholder:o,style:{width:"100%"}})))},this.addinputdata2=function(t){var a=t.name,n=t.message,r=(t.placeholder,t.initialValue),o=void 0===r?["",""]:r,i=t.required,l=void 0!==i&&i,s=t.type,c=void 0===s?"string":s;return Q.a.createElement(de,ce({style:{width:"100%"}},ce({},e.formItemLayout,{wrapperCol:{span:24}})),e.props.form.getFieldDecorator(a.replace(/Name/g,"Id"),{initialValue:o[1]})(Q.a.createElement(V.a,{type:"hidden"})),e.props.form.getFieldDecorator(a,{rules:[{required:l,message:n,type:c},{validator:a.match(/^mobile/g)?e.telphonevalid:null}],initialValue:o[0]})(Q.a.createElement(V.a,{onClick:e.handleOpenChoose(a,a.replace(/Name/g,"Id")),readOnly:!0,style:{width:"100%"},placeholder:"点击选择经营品牌"})))},this.addselectdata=function(t){var a=t.name,n=t.message,r=(t.placeholder,t.initialValue),o=void 0===r?"":r;return Q.a.createElement(de,null,e.props.form.getFieldDecorator(a,{rules:[{required:!1,message:n}],initialValue:o})(Q.a.createElement(R.a,{style:{width:"100%"},placeholder:"请选择"},Object(ae.a)("品牌类型").map(function(e){return Q.a.createElement(ue,{key:e.value,value:e.value},e.label)}))))},this.adduploaddata=function(t){var a=t.name,n=t.message,r=t.initialValue,o=void 0===r?[]:r,i=(t.placeholder,t.num),l=void 0===i?1:i;a.replace(/(.*?)s(\d+)$/g,"$1$2");return Q.a.createElement(de,ce({style:{width:"100%"}},ce({},e.formItemLayout,{wrapperCol:{span:24}})),e.props.form.getFieldDecorator(a,{rules:[{required:!1,message:n}],onChange:e.uploadonChange,valuePropName:"fileList",getValueFromEvent:e.normFile,initialValue:o})(Q.a.createElement(E.a,ce({},e.uploadsprops2,{beforeUpload:e.beforeUpload,listType:"picture-card"}),e.uploadicon(a,l))))},this.identityCodeValid=function(e,t,a){var n=/^\d+$/g,r=/^\s*$/g;!t||r.test(t)||n.test(t)?a():a("请输入数字")},this.handlePreview=function(t){e.props.modalmodelaction({previewVisible:!0,previewImage:t.url||t.thumbUrl})},this.uploadsprops2={name:"Filedata",listType:"picture",className:"upload-list-inline",onPreview:this.handlePreview,multiple:!0,accept:"image/*",action:te.b+"/upload?type=approveLicensePic&token="+Object(ee.b)().token},this.handleCancel2=function(t){return function(){var a;return e.props.modalmodelaction((a={},a[t]=!1,a))}},this.handleAdd1=function(){var t=e.props.tablemodel1,a=t.count,n=t.data1,r={key:a+"",No:a+"",brankName:{name:"brankName"+a,message:"请输入品牌名称",placeholder:"品牌名称"},brankType:{name:"brankType"+a,message:"请输入品牌类型",placeholder:"品牌类型"},authorization:{name:"authorization"+a,message:"请上传授权书",placeholder:"授权书"},registration:{name:"registration"+a,message:"请上传注册证",placeholder:"注册证"},certification:{name:"certification"+a,message:"请上传认证报告",placeholder:"认证报告"},otherAptitude:{name:"otherAptitude"+a,message:"请上传其他资料",placeholder:"其他资料",num:3},Operation:"删除"};e.props.tablemodelaction({data1:[].concat(n,[r]),count:a+1})},this.Modalshow=function(t){return function(){e.props.modalmodelaction({visible:!0}),e.props.tablemodelaction({delkey:t})}},this.fileListhanddle=function(e){return e?e.split("@").map(function(e,t){return{uid:t,name:t+".png",status:"done",url:"//img.csc86.com"+e}}):[]},this.uploadonChange=function(e){var t=e.file.status;e.file.response;"done"===t?T.a.success(e.file.name+" 图片上传成功."):"error"===t&&T.a.error(e.file.name+" 图片上传失败.")},this.onChange=function(t){var a=t.target.name,n=t.target.value;e.props.baseInfoForm({name:{name:a,value:n}})},this.uploadIcon=Q.a.createElement(u.a,{type:"plus",className:"avatar-uploader-trigger",style:{border:"1px dashed #d9d9d9",cursor:"pointer",borderRadius:"6px"}}),this.uploadicon=function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.uploadIcon;return e.props.Infos[t]&&e.props.Infos[t].value&&e.props.Infos[t].value.length>=a?null:n},this.provincehandle=function(t,a){return function(n){var r=2==e.props.Infos.orOut.value?te.c+"/clue/getZone.do":te.c+"/clue/getArea.do";e.props.fetchzonesPosts({url:r,name:t,value:n.key,returnName:a})}},this.ModalhandleOk=function(){var t=[].concat(e.props.tablemodel1.data1),a=e.props.tablemodel1.delkey;e.props.modalmodelaction({ModalText:"删除中···",confirmLoading:!0}),setTimeout(function(){1==t.length?e.props.resettablemodelaction():(t.splice(a,1),e.props.tablemodelaction({data1:t})),e.props.modalmodelaction({visible:!1,confirmLoading:!1})},500)},this.ModalhandleCancel=function(t){return function(){var a;e.props.modalmodelaction((a={},a[t]=!1,a))}},this.refreshTable=function(){var t=Object(ee.c)("supplierId");e.props.fetchTable2Info(t)}},l);t.a=Object(ne.connect)(function(e){return ce({},e)},function(e){return Object(re.bindActionCreators)(oe.f,e)})(Y.a.create({mapPropsToFields:function(e){return e.Infos},onFieldsChange:function(e,t){e.baseInfoForm(t)}})(fe))},1479:function(e,t){},1480:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(31),l=(a.n(i),a(32)),s=a.n(l),c=a(0),d=a.n(c),u=(a(185),function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){return d.a.createElement("div",null,d.a.createElement(s.a,this.props,d.a.createElement("div",{style:{textAlign:"center"}},this.props.ModalText)))},t}(d.a.Component));t.a=u},185:function(e,t,a){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,o){try{var i=t[r](o),l=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}a.d(t,"a",function(){return l}),a.d(t,"b",function(){return s}),a.d(t,"d",function(){return c}),a.d(t,"c",function(){return d}),a.d(t,"e",function(){return u}),a.d(t,"g",function(){return g});var r=a(10),o=(a(15),a(23)),i=this,l="BASEINFO",s="MODALMODEL_INFO",c="TABLEMODEL1_INFO",d="RESETTABLEMODEL1_INFO",u="TABLEMODEL2_INFO",p=function(e){return{type:l,payload:e}},m=function(e){return{type:s,payload:e}},h=function(e){return{type:c,payload:e}},f=function(){return{type:d}},b=function(e){return{type:u,payload:e}},g=function(e){var t=location.pathname,a={supplierId:e,moduleUrl:t};return o.a.get(r.c+"/qualityControl/viewToQualityControl.do",{params:a})},y=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(a,n){var l,s,c,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,l=location.pathname,s={supplierId:e,moduleUrl:l},t.next=5,o.a.get(r.c+"/ quotation/queryQuotationListQC.do",{params:s});case 5:if(c=t.sent,!(c.data.code="1")){t.next=11;break}return d=c.data.data.map(function(e,t){return e.index=t+1,e}),t.next=10,a(b({data2:d,count:c.data.data.length}));case 10:return t.abrupt("return",t.sent);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:case"end":return t.stop()}},t,i,[[0,13]])}));return function(e,a){return t.apply(this,arguments)}}()},v=function(e){var t=e.url,a=e.name,n=e.value,r=e.returnName;return function(e,i){var l=location.pathname;return Object(o.a)(t+"?"+a+"="+n+"&moduleUrl="+l).then(function(t){if(200==t.status){var a;e(p((a={},a[r]=t.data.data,a)))}}).catch(function(e){})}},E={baseInfoForm:p,modalmodelaction:m,tablemodelaction:h,tablemodelaction2:b,fetchTable2Info:y,fetchzonesPosts:v,resettablemodelaction:f};t.f=E}},[1474]);