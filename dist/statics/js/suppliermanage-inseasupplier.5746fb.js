webpackJsonp([9],{1558:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(40),r=(a.n(n),a(0)),o=a.n(r),i=a(12),l=(a.n(i),a(2)),c=a(5),s=a(37),u=a.n(s),p=a(38),d=(a.n(p),a(1559)),m=a(39),f=a(1560),h=[u.a],y=Object(l.createStore)(d.a,l.applyMiddleware.apply(void 0,h));Object(i.render)(o.a.createElement(c.Provider,{store:y},o.a.createElement(m.a,null,o.a.createElement(f.a,null))),document.getElementById("root"))},1559:function(e,t,a){"use strict";var n=a(2),r=a(26),o=(a.n(r),a(1)),i=(a.n(o),a(340)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c={compNameOrAddressOrMobile:"companyName",compNameOrAddressOrMobileValue:"",level:"",source:"",enterpriseType:"",varietyNameId:"",varietyNameNames:"",mainBrand:"",mainBrandNames:"",areaType:"",partnership:"",createdate:[],other:[]},s={queryform:c},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case i.g:return t.data;case i.f:return{queryform:c};case i.b:return s;default:return e}},p={isFetching:!1,tableData:[],selectedList:[],pagination:{showQuickJumper:!0,showSizeChanger:!0,total:1,current:1,pageSize:10,showTotal:function(e){return"共 "+e+" 条"}}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case i.e:return l({},e,{isFetching:!0});case i.c:var a=t.data,n=a.tableData,r=a.pagination,o=l({},e.pagination,r);return l({},e,{tableData:n,pagination:o,isFetching:!1});case i.d:return l({},e,{isFetching:!1});case i.a:var c=t.data.selectedList;return l({},e,{selectedList:c});default:return e}},m=Object(n.combineReducers)({mainQueryData:u,mainTableData:d});t.a=m},1560:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(13),l=(a.n(i),a(14)),c=a.n(l),s=a(0),u=a.n(s),p=a(1561),d=(a.n(p),a(20)),m=(a.n(d),a(30)),f=(a.n(m),a(1562)),h=a(1564),y=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){var e=c.a.create()(f.a);return u.a.createElement("div",null,u.a.createElement("h3",{className:"page-title"},"公海的供应商"),u.a.createElement("div",{className:"page-main"},u.a.createElement("div",{className:"query-wrap"},u.a.createElement(e,null)),u.a.createElement("div",{className:"tabel-wrap"},u.a.createElement(h.a,null))))},t}(s.Component);t.a=y},1561:function(e,t){},1562:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,l,c=a(19),s=(a.n(c),a(18)),u=a.n(s),p=a(21),d=(a.n(p),a(22)),m=a.n(d),f=a(27),h=(a.n(f),a(33)),y=a.n(h),b=a(24),g=(a.n(b),a(25)),v=a.n(g),E=a(71),C=(a.n(E),a(72)),O=a.n(C),S=a(46),w=(a.n(S),a(47)),N=a.n(w),j=a(28),T=(a.n(j),a(29)),k=a.n(T),D=a(13),I=(a.n(D),a(14)),V=a.n(I),F=a(0),x=a.n(F),P=a(3),q=(a.n(P),a(1)),R=a.n(q),_=a(1563),Q=(a.n(_),a(111)),B=a(151),L=a(73),A=a(5),M=a(2),U=a(340),Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},z=V.a.Item,W=k.a.Option,H=(N.a.MonthPicker,N.a.RangePicker),K=O.a.Group,G=(i=Object(A.connect)(function(e){return{mainQueryData:e.mainQueryData,mainTableData:e.mainTableData}},function(e){return Object(M.bindActionCreators)({initQueryFrom:U.i,setQueryFrom:U.m,resetQueryFrom:U.l,requestSupplier:U.k,queryTableData:U.j},e)}))(l=function(e){function t(){var a,o,i;n(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return a=o=r(this,e.call.apply(e,[this].concat(c))),o.state={brandSelectorVisible:!1,categorySelectorVisible:!1},o.handleSubmit=function(e){e.preventDefault();var t=(o.props.mainQueryData.queryform,o.props.mainTableData),a=t.pagination,n=t.isFetching;o.props.form.validateFieldsAndScroll(function(e,t){if(!e&&!n){var r=Y({current:1},a);o.props.setQueryFrom({queryform:t}),o.props.queryTableData({queryform:t,pagination:r})}})},o.handleReset=function(){o.props.form.resetFields();var e=o.props.mainQueryData;e.queryform,e.pagination;o.props.resetQueryFrom()},o.checkName=function(e,t,a){var n=o.props.form,r=n.getFieldValue("name");r&&""!=r?a():a("企业名称必须填写!")},o.changeToLastSeven=function(){o.props.form.setFieldsValue({createdate:[R()().subtract(6,"days"),R()()]})},o.changeToToday=function(){o.props.form.setFieldsValue({createdate:[R()(),R()()]})},o.handleOpenChoose=function(){o.setState({brandSelectorVisible:!0})},o.handleOpenChooseForCategory=function(){o.setState({categorySelectorVisible:!0})},o.handleChoosed=function(e,t){o.props.form.setFieldsValue({mainBrandNames:t,mainBrandId:e}),o.setState({brandSelectorVisible:!1})},o.handleCancel=function(){o.setState({brandSelectorVisible:!1})},o.handleChoosedForCategory=function(e,t){o.props.form.setFieldsValue({varietyNameNames:t,varietyNameId:e}),o.setState({categorySelectorVisible:!1})},o.handleCancelForCategory=function(){o.setState({categorySelectorVisible:!1})},o.getLastSelectBrand=function(){return{labelstr:o.props.form.getFieldValue("mainBrandNames"),idstr:o.props.form.getFieldValue("mainBrandId")}},o.getLastSelectCategory=function(){return o.props.form.getFieldValue("varietyNameId")},i=a,r(o,i)}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props.mainQueryData.queryform,t={};for(var a in e)e[a]&&""!=e[a]&&(t[a]=e[a]);this.props.form.setFieldsValue(t)},t.prototype.render=function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:9},wrapperCol:{span:15}},a={labelCol:{span:7},wrapperCol:{span:17}},n={labelCol:{span:4},wrapperCol:{span:20}},r=this.getLastSelectBrand(),o=this.getLastSelectCategory();return x.a.createElement(V.a,{layout:"horizontal",onSubmit:this.handleSubmit,className:"query-form"},x.a.createElement(m.a,{gutter:16},x.a.createElement(v.a,{span:3},x.a.createElement(z,null,e("compNameOrAddressOrMobile",{initialValue:"companyName"})(x.a.createElement(k.a,{style:{width:"100%"}},Object(L.a)("企业名称").map(function(e){return x.a.createElement(W,{key:e.value,value:e.value},e.label)}))))),x.a.createElement(v.a,{span:2},x.a.createElement(z,null,e("compNameOrAddressOrMobileValue")(x.a.createElement(y.a,{style:{width:"100%"}})))),x.a.createElement(v.a,{span:4},x.a.createElement(z,Y({},t,{label:"客户级别"}),e("level",{initialValue:""})(x.a.createElement(k.a,{style:{width:"100%"}},Object(L.a)("客户级别").map(function(e){return x.a.createElement(W,{key:e.value,value:e.value},e.label)}))))),x.a.createElement(v.a,{span:4},x.a.createElement(z,Y({},t,{label:"客户来源"}),e("source",{initialValue:""})(x.a.createElement(k.a,{style:{width:"100%"}},Object(L.a)("客户来源").map(function(e){return x.a.createElement(W,{key:e.value,value:e.value},e.label)}))))),x.a.createElement(v.a,{span:5},x.a.createElement(z,Y({},t,{label:"客户类型"}),e("enterpriseType",{initialValue:""})(x.a.createElement(k.a,{style:{width:"100%"}},Object(L.a)("客户类型").map(function(e){return x.a.createElement(W,{key:e.value,value:e.value},e.label)}))))),x.a.createElement(v.a,{span:6},e("varietyNameId")(x.a.createElement(y.a,{type:"hidden"})),x.a.createElement(z,Y({},t,{label:"主营类目"}),e("varietyNameNames")(x.a.createElement(y.a,{onClick:this.handleOpenChooseForCategory,readOnly:!0}))))),x.a.createElement(m.a,{gutter:16},x.a.createElement(v.a,{span:5},e("mainBrandId")(x.a.createElement(y.a,{type:"hidden"})),x.a.createElement(z,Y({},t,{label:"主营品牌"}),e("mainBrandNames")(x.a.createElement(y.a,{onClick:this.handleOpenChoose,readOnly:!0})))),x.a.createElement(v.a,{span:5},x.a.createElement(z,Y({},t,{label:"客户区域"}),e("areaType",{initialValue:""})(x.a.createElement(k.a,{style:{width:120}},Object(L.a)("客户区域").map(function(e){return x.a.createElement(W,{key:e.value,value:e.value},e.label)}))))),x.a.createElement(v.a,{span:5},x.a.createElement(z,Y({},t,{label:"合作关系"}),e("partnership",{initialValue:""})(x.a.createElement(k.a,{style:{width:120}},Object(L.a)("合作关系").map(function(e){return x.a.createElement(W,{key:e.value,value:e.value},e.label)}))))),x.a.createElement(v.a,{span:7},x.a.createElement(z,Y({},a,{label:"创建日期"}),e("createdate")(x.a.createElement(H,null)))),x.a.createElement(v.a,{span:2,className:"right-wrap"},x.a.createElement("span",{className:"rangeButton",onClick:this.changeToToday},"今天")," ",x.a.createElement("span",{className:"rangeButton",onClick:this.changeToLastSeven},"近7天"))),x.a.createElement(m.a,{gutter:16},x.a.createElement(v.a,{span:16,style:{textAlign:"left"}},x.a.createElement(z,Y({},n,{label:"其他条件"}),e("other")(x.a.createElement(K,{options:Object(L.a)("供应商列表其他查询条件")})))),x.a.createElement(v.a,{span:8,className:"right-wrap"},x.a.createElement(u.a,{type:"primary",htmlType:"submit"},"查询"),x.a.createElement(u.a,{type:"ghost",className:"resetButton",onClick:this.handleReset},"重置"))),x.a.createElement(Q.default,{onChoosed:this.handleChoosed.bind(this),visible:this.state.brandSelectorVisible,choosedKeys:r,onCancel:this.handleCancel.bind(this)}),x.a.createElement(B.default,{onChoosed:this.handleChoosedForCategory.bind(this),choosedKeys:o,visible:this.state.categorySelectorVisible,onCancel:this.handleCancelForCategory.bind(this)}))},t}(x.a.Component))||l;t.a=G},1563:function(e,t){},1564:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,l,c,s,u=a(34),p=(a.n(u),a(35)),d=a.n(p),m=a(41),f=(a.n(m),a(42)),h=a.n(f),y=a(0),b=a.n(y),g=a(3),v=a.n(g),E=a(1565),C=(a.n(E),a(5)),O=a(2),S=a(340),w=(a(10),a(15)),N=a(20),j=(a.n(N),a(74)),T=a(68),k=(i=Object(C.connect)(function(e){return{mainQueryData:e.mainQueryData,mainTableData:e.mainTableData}},function(e){return Object(O.bindActionCreators)({queryTableData:S.j,setQueryFrom:S.m,doChangeMainCheck:S.h},e)}))((s=c=function(e){function t(){var a,o,i;n(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return a=o=r(this,e.call.apply(e,[this].concat(c))),o.state={personSelectorVisible:!1,actionInfo:{}},o.queryWithDefault=function(){var e=o.props.mainQueryData.queryform,t=o.props.mainTableData.pagination;o.props.queryTableData({queryform:e,pagination:t})},o.handleTableChange=function(e,t,a){var n=o.props.mainQueryData.queryform;o.props.queryTableData({queryform:n,pagination:e})},o.rowSelection={onChange:function(e,t){o.props.doChangeMainCheck({selectedList:t})},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name}}},o.handleRefresh=function(){o.props.mainTableData.isFetching||o.queryWithDefault()},o.handleOpenChoose=function(){var e=o.props.mainTableData.selectedList;0==e.length?h.a.warning("请选择要分配的供应商"):o.setState({personSelectorVisible:!0,actionInfo:{name:"分配",data:e}})},o.handlePersonCancel=function(){o.setState({personSelectorVisible:!1})},o.handleRowClick=function(e,t,a){var n=a.target.getAttribute("class");if(-1!=n.indexOf("js-addus")||-1!=n.indexOf("js-out"))if(-1!=n.indexOf("js-addus")){var r=Object(w.a)();o.handleChoosed(r.userId,r.realName,{name:"加入",data:[e]})}else o.setState({personSelectorVisible:!0,actionInfo:{name:"分配",data:[e]}})},o.handleChoosed=function(e,t,a){o.setState({personSelectorVisible:!1});var n=a.name,r=a.data.map(function(e){return e.supplierId}).toString(),i=a.data.map(function(e){return e.userId}).toString();Object(j.fetchSetContacts)(r,e,t,i).then(function(e){"1"==e.data.code?(h.a.success(n+"成功!"),o.queryWithDefault()):h.a.error(n+"失败!")}).catch(function(e){h.a.error(n+"失败!")})},o.getDetailUrl=function(e,t,a){var n=Object(w.e)(),r=n.moduleId?n.moduleId:"",o=n.systemId?n.systemId:"",i="";return"my"==e?i="/suppliermanage/mysupplierdetail/":"theHighSeas"==e?i="/suppliermanage/inseasupplierdetail/":"underling"==e&&(i="/suppliermanage/underlingsupplierdetail/"),""==i?a:b.a.createElement("a",{href:i+"?systemId="+o+"&moduleId="+r+"&supplierId="+t},a)},i=a,r(o,i)}return o(t,e),t.prototype.componentWillMount=function(){this.queryWithDefault()},t.prototype.render=function(){var e=this,t=[{title:"企业名称",dataIndex:"companyName",key:"companyName",render:function(t,a){return e.getDetailUrl(a.type,a.supplierId,t)}},{title:"来源",dataIndex:"source",key:"source"},{title:"企业性质",dataIndex:"enterpriseType",key:"enterpriseType"},{title:"主营类目",dataIndex:"varietyName",key:"varietyName"},{title:"主营品牌",dataIndex:"mainBrand",key:"mainBrand"},{title:"联系人信息",dataIndex:"contacts",key:"contacts",render:function(e,t){return b.a.createElement("div",null,b.a.createElement("div",null,t.fullname),b.a.createElement("div",null,t.mobile))}},{title:"创建时间",dataIndex:"createTime2",key:"createTime2"},{title:"操作",dataIndex:"option",render:function(e,t){return b.a.createElement("a",{href:"javascript:;",className:"table-options-wrap js-addus"},"加入我的")},key:"option"}],a=this.props.mainTableData,n=a.tableData,r=a.pagination,o=a.isFetching;return b.a.createElement("div",{className:"main-table"},b.a.createElement("div",{className:"tabel-extend-option"},b.a.createElement("span",{onClick:this.handleRefresh,className:"refresh"},"刷新列表"),b.a.createElement("span",{onClick:this.handleOpenChoose},"分配负责人")),b.a.createElement(d.a,{bordered:!0,columns:t,rowKey:function(e){return e.supplierId},dataSource:n,pagination:r,loading:o,onChange:this.handleTableChange,rowSelection:this.rowSelection,onRowClick:this.handleRowClick}),b.a.createElement(T.default,{onChoosed:this.handleChoosed.bind(this),onCancel:this.handlePersonCancel.bind(this),visible:this.state.personSelectorVisible,actionInfo:this.state.actionInfo}))},t}(b.a.Component),c.propTypes={tableData:v.a.array,isFetching:v.a.bool,selectedList:v.a.array,pagination:v.a.object},l=s))||l;t.a=k},1565:function(e,t){},340:function(e,t,a){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,o){try{var i=t[r](o),l=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}a.d(t,"b",function(){return d}),a.d(t,"f",function(){return m}),a.d(t,"g",function(){return f}),a.d(t,"e",function(){return h}),a.d(t,"c",function(){return y}),a.d(t,"d",function(){return b}),a.d(t,"a",function(){return g}),a.d(t,"k",function(){return O}),a.d(t,"i",function(){return j}),a.d(t,"l",function(){return T}),a.d(t,"m",function(){return k}),a.d(t,"j",function(){return D}),a.d(t,"h",function(){return I});var r=a(10),o=a(15),i=a(20),l=a.n(i),c=a(26),s=a.n(c),u=this,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d="INIT_QUERY",m="RESET_QUERY",f="SET_QUERY",h="REQUEST_SUPPLIER",y="RECEIVE_SUPPLIER",b="RECEIVE_SUPPLIER_FAIL",g="CHANGE_MAIN_CHECK",v=function(e){return{type:d,data:e}},E=function(e){return{type:f,data:e}},C=function(e){return{type:m,data:e}},O=function(){return{type:h}},S=function(e){return{type:y,data:e}},w=function(){return{type:b}},N=function(e){return{type:g,data:e}},j=function(e){return function(t,a){return t(v(e))}},T=function(e){return function(t,a){return t(C(e))}},k=function(e){return function(t,a){return t(E(e))}},D=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(a,n){var i,c,d,m,f,h,y,b,g,v,E,C,N,j;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a(O());case 3:if(i=Object(o.b)().token,c=Object(o.e)(),d=c.moduleId?c.moduleId:"",m=e.queryform,f=e.pagination,h={pageNo:f.current,pageSize:f.pageSize},m.createdate&&m.createdate.length>0&&(m.startTime=m.createdate[0].format("YYYY-MM-DD"),m.endTime=m.createdate[1].format("YYYY-MM-DD")),!(m.other&&m.other.length>0)){t.next=27;break}y=m.other,b=y,g=Array.isArray(b),v=0,b=g?b:b[Symbol.iterator]();case 13:if(!g){t.next=19;break}if(!(v>=b.length)){t.next=16;break}return t.abrupt("break",27);case 16:E=b[v++],t.next=23;break;case 19:if(v=b.next(),!v.done){t.next=22;break}return t.abrupt("break",27);case 22:E=v.value;case 23:C=E,m[C]="yes";case 25:t.next=13;break;case 27:return m=s.a.omit(m,["varietyNameNames","mainBrandNames","createdate","other"]),m=s.a.omitBy(m,s.a.isUndefined),N=p({isPass:"yes",markToDistinguish:"theHighSeas"},m,h,{token:i,moduleId:d}),t.next=32,l.a.get(r.c+"/management/viewSupplierList.do",{params:N,timeout:1e4});case 32:return j=t.sent,t.next=35,a(S({tableData:j.data.data.data,pagination:{total:j.data.data.rowCount,current:j.data.data.pageNo,pageSize:j.data.data.pageSize}}));case 35:return t.abrupt("return",t.sent);case 38:return t.prev=38,t.t0=t.catch(0),t.next=43,a(w());case 43:return t.abrupt("return",t.sent);case 44:case"end":return t.stop()}},t,u,[[0,38]])}));return function(e,a){return t.apply(this,arguments)}}()},I=function(e){return function(t,a){return t(N(e))}}}},[1558]);