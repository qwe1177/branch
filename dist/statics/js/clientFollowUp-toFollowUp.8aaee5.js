webpackJsonp([12],{1354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(40),r=(n.n(a),n(0)),i=n.n(r),o=n(12),u=(n.n(o),n(2)),c=n(5),l=n(37),s=n.n(l),p=n(38),f=(n.n(p),n(1355)),d=n(39),m=n(1356),y=[s.a],h=Object(u.createStore)(f.a,u.applyMiddleware.apply(void 0,y));Object(o.render)(i.a.createElement(c.Provider,{store:h},i.a.createElement(d.a,null,i.a.createElement(m.a,null))),document.getElementById("root"))},1355:function(e,t,n){"use strict";var a=n(2),r=n(26),i=(n.n(r),n(1)),o=(n.n(i),n(231)),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c={companyName:"",finishData:[]},l={queryform:c},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.g:return t.data;case o.f:return{queryform:c};case o.b:return l;default:return e}},p={isFetching:!1,tableData:[],selectedList:[],pagination:{showQuickJumper:!0,showSizeChanger:!0,total:1,current:1,pageSize:10,showTotal:function(e){return"共 "+e+" 条"}}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case o.e:return u({},e,{isFetching:!0});case o.c:var n=t.data,a=n.tableData,r=n.pagination,i=u({},e.pagination,r);return u({},e,{tableData:a,pagination:i,isFetching:!1});case o.d:return u({},e,{isFetching:!1});case o.a:var c=t.data.selectedList;return u({},e,{selectedList:c});default:return e}},d=Object(a.combineReducers)({mainQueryData:s,mainTableData:f});t.a=d},1356:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o,u,c=n(13),l=(n.n(c),n(14)),s=n.n(l),p=n(0),f=n.n(p),d=n(30),m=(n.n(d),n(167)),y=(n.n(m),n(1357)),h=(n.n(y),n(20)),b=(n.n(h),n(1358)),g=n(1360),v=n(5),E=n(2),D=n(231),w=(o=Object(v.connect)(function(e){return{mainQueryData:e.mainQueryData,mainTableData:e.mainTableData}},function(e){return Object(E.bindActionCreators)({queryTableData:D.k},e)}))(u=function(e){function t(n){return a(this,t),r(this,e.call(this,n))}return i(t,e),t.prototype.componentWillMount=function(){var e=this.props.mainTableData.pagination,t=this.props.mainQueryData.queryform;this.props.queryTableData({queryform:t,pagination:e})},t.prototype.render=function(){var e=s.a.create()(b.a);return f.a.createElement("div",null,f.a.createElement("h3",{className:"page-title"},"跟进计划"),f.a.createElement("div",{className:"content clearfix"},f.a.createElement("div",{className:"left-content"},f.a.createElement("div",{className:"query-wrap"},f.a.createElement(e,null)),f.a.createElement("div",{className:"tabel-wrap"},f.a.createElement(g.a,null))),f.a.createElement("div",{className:"statistics"},f.a.createElement("div",null,"跟进统计"))))},t}(p.Component))||u;t.a=w},1357:function(e,t){},1358:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o,u,c,l,s=n(19),p=(n.n(s),n(18)),f=n.n(p),d=n(21),m=(n.n(d),n(22)),y=n.n(m),h=n(24),b=(n.n(h),n(25)),g=n.n(b),v=n(27),E=(n.n(v),n(33)),D=n.n(E),w=n(46),C=(n.n(w),n(47)),T=n.n(C),O=n(28),k=(n.n(O),n(29)),j=n.n(k),S=n(13),I=(n.n(S),n(14)),q=n.n(I),P=n(0),R=n.n(P),F=n(3),Q=n.n(F),x=n(1),N=(n.n(x),n(1359)),M=(n.n(N),n(5)),L=n(2),U=n(231),Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},z=q.a.Item,A=(j.a.Option,T.a.MonthPicker,T.a.RangePicker),B=(o=Object(M.connect)(function(e){return{mainQueryData:e.mainQueryData,mainTableData:e.mainTableData}},function(e){return Object(L.bindActionCreators)({initQueryFrom:U.i,setQueryFrom:U.n,resetQueryFrom:U.m,requestSupplier:U.l,queryTableData:U.k},e)}))((l=c=function(e){function t(){var n,i,o;a(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=r(this,e.call.apply(e,[this].concat(c))),i.handleSubmit=function(e){e.preventDefault();var t=(i.props.mainQueryData.queryform,i.props.mainTableData),n=t.pagination;t.isFetching;i.props.form.validateFieldsAndScroll(function(e,t){if(!e){var a=Y({},n);a.current=1,i.props.setQueryFrom({queryform:t}),i.props.queryTableData({queryform:t,pagination:a})}})},i.handleReset=function(){i.props.form.resetFields(),i.props.resetQueryFrom()},o=n,r(i,o)}return i(t,e),t.prototype.componentDidMount=function(){var e=this.props.mainQueryData.queryform;e=_.pick(e,["companyName","finishData"]);var t={};for(var n in e)e[n]&&""!=e[n]&&(t[n]=e[n]);this.props.form.setFieldsValue(t)},t.prototype.render=function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:18}},n={labelCol:{span:8},wrapperCol:{span:16}},a=this.props.mainTableData;a.pagination,a.isFetching;return R.a.createElement(q.a,{layout:"horizontal",onSubmit:this.handleSubmit},R.a.createElement(y.a,null,R.a.createElement(g.a,{span:9},R.a.createElement(z,Y({},t,{label:"企业名称"}),e("companyName")(R.a.createElement(D.a,{style:{width:"100%"},onBlur:this.handleConfirmBlur})))),R.a.createElement(g.a,{span:12},R.a.createElement(z,Y({},n,{label:"计划完成日期"}),e("finishData")(R.a.createElement(A,null))))),R.a.createElement(y.a,null,R.a.createElement(g.a,{span:8},R.a.createElement(f.a,{size:"large",type:"primary",style:{width:100,marginRight:30},htmlType:"submit"},"查询"),R.a.createElement(f.a,{size:"large",type:"danger",style:{width:100},onClick:this.handleReset},"重置"))))},t}(R.a.Component),c.propTypes={queryform:Q.a.object},u=l))||u;t.a=B},1359:function(e,t){},1360:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o,u,c,l,s=n(34),p=(n.n(s),n(35)),f=n.n(p),d=n(31),m=(n.n(d),n(32)),y=n.n(m),h=n(19),b=(n.n(h),n(18)),g=n.n(b),v=n(41),E=(n.n(v),n(42)),D=n.n(E),w=n(0),C=n.n(w),T=n(20),O=n.n(T),k=n(10),j=n(15),S=n(3),I=n.n(S),q=n(1361),P=(n.n(q),n(5)),_=n(2),R=n(231),F=(o=Object(P.connect)(function(e){return{mainQueryData:e.mainQueryData,mainTableData:e.mainTableData}},function(e){return Object(_.bindActionCreators)({queryTableData:R.k,initSupplierTable:R.j,setQueryFrom:R.n,doChangeMainCheck:R.h},e)}))((l=c=function(e){function t(){var n,i,o;a(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=r(this,e.call.apply(e,[this].concat(c))),i.state={modelType:"",visible:!1,selectedRowKeys:[]},i.showModal=function(e){i.setState({visible:!0,key:e})},i.handleOk=function(e){var t=i.state.key,n=i;O.a.get(k.c+"/supplier/delSupplierFollowupRecords.do",{params:{ids:t.length>0?t.join(","):t}}).then(function(e){n.setState({visible:!1});var t=n.props.mainTableData,a=t.pagination,r=(t.isFetching,n.props.mainQueryData.queryform);n.props.queryTableData({queryform:r,pagination:a}),D.a.success("移除成功!")}).catch(function(e){}),i.props.doChangeMainCheck({selectedList:e})},i.handleCancel=function(){i.setState({visible:!1})},i.handleTableChange=function(e,t,n){var a=i.props.mainQueryData.queryform;i.props.queryTableData({queryform:a,pagination:e})},i.rowSelection={onChange:function(e,t){i.props.doChangeMainCheck({selectedList:e})},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name}}},i.handleRefresh=function(){var e=i.props.mainTableData,t=e.pagination,n=e.isFetching,a=i.props.mainQueryData.queryform;n||(t.current=1,i.props.queryTableData({queryform:a,pagination:t}))},i.getDetailUrl=function(e,t,n,a){var r=Object(j.e)(),i=r.moduleId?r.moduleId:"",o=r.systemId?r.systemId:"",u="";return"2"==e?("my"==t?u="/suppliermanage/mysupplierdetail/":"theHighSeas"==t?u="/suppliermanage/inseasupplierdetail/":"underling"==t&&(u="/suppliermanage/underlingsupplierdetail/"),u+="?systemId="+o+"&moduleId="+i+"&supplierId="+n):("my"==t?u="/myClueDetail/":"theHighSeas"==t?u="/publicClueDetail/":"underling"==t&&(u="/underlingClueDetail/"),u+="?supplierId="+n),0==u.indexOf("?")?C.a.createElement("span",null,a):C.a.createElement("a",{target:"_blank",href:u},a)},o=n,r(i,o)}return i(t,e),t.prototype.componentWillMount=function(){this.props.initSupplierTable()},t.prototype.render=function(){var e=this,t=[{title:"企业名称",dataIndex:"companyName",key:"companyName",render:function(t,n){return e.getDetailUrl(n.followupType,n.type,n.supplierId,t)}},{title:"计划内容",dataIndex:"planNextContent",key:"planNextContent"},{title:"计划完成日期",dataIndex:"planNextContactTime",key:"planNextContactTime"},{title:"操作",dataIndex:"option",key:"option",render:function(t,n){return C.a.createElement("div",{className:"tabel-extend-option"},C.a.createElement("span",{onClick:function(t){return e.showModal(n.id)}},"移除"),e.getDetailUrl(n.followupType,n.type,n.supplierId,"去跟进"))}}],n=this.props.mainTableData,a=n.tableData,r=n.pagination,i=n.isFetching,o=n.selectedList,u=o.length>0;return C.a.createElement("div",null,C.a.createElement("div",{className:"tabel-extend-option title"},C.a.createElement("span",{onClick:this.handleRefresh},"刷新"),C.a.createElement("button",{disabled:!u,onClick:function(){return e.showModal(o)}},"移除计划")),C.a.createElement(y.a,{visible:this.state.visible,title:"移除计划",onOk:this.handleOk,onCancel:this.handleCancel,footer:[C.a.createElement(g.a,{key:"back",type:"danger",onClick:this.handleCancel},"取消"),C.a.createElement(g.a,{key:"submit",type:"primary",onClick:this.handleOk},"确认")]},C.a.createElement("p",null,"确认将计划移出日程，移出后将不可恢复")),C.a.createElement(f.a,{bordered:!0,columns:t,rowKey:function(e){return e.id},dataSource:a,pagination:r,loading:i,onChange:this.handleTableChange,rowSelection:this.rowSelection}))},t}(C.a.Component),c.propTypes={tableData:I.a.array,isFetching:I.a.bool,selectedList:I.a.array,pagination:I.a.object},u=l))||u;t.a=F},1361:function(e,t){},231:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,i){try{var o=t[r](i),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}n.d(t,"b",function(){return d}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return y}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"l",function(){return T}),n.d(t,"i",function(){return S}),n.d(t,"m",function(){return I}),n.d(t,"n",function(){return q}),n.d(t,"k",function(){return P}),n.d(t,"j",function(){return _}),n.d(t,"h",function(){return R});var r=n(20),i=n.n(r),o=n(1),u=(n.n(o),n(15)),c=n(10),l=n(26),s=n.n(l),p=this,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d="INIT_QUERY",m="RESET_QUERY",y="SET_QUERY",h="REQUEST_SUPPLIER",b="RECEIVE_SUPPLIER",g="RECEIVE_SUPPLIER_FAIL",v="CHANGE_MAIN_CHECK",E=function(e){return{type:d,data:e}},D=function(e){return{type:y,data:e}},w=function(e){return{type:m,data:e}},C=function(e){return{type:"INIT_SUPPLIER",data:e}},T=function(e){return{type:h,data:e}},O=function(e){return{type:b,data:e}},k=function(e){return{type:g,data:e}},j=function(e){return{type:v,data:e}},S=function(e){return function(t,n){return t(E(e))}},I=function(e){return function(t,n){return t(w(e))}},q=function(e){return function(t,n){return t(D(e))}},P=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n,a){var r,o,l,d,m,y,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=Object(u.b)().token,o=e.queryform,l=e.pagination,d={pageNo:l.current,pageSize:l.pageSize},o.finishData&&o.finishData.length>0&&(o.startTime=o.finishData[0].format("YYYY-MM-DD"),o.endTime=o.finishData[1].format("YYYY-MM-DD")),m=f({},o,d,{token:r}),m.finishData=void 0,m=s.a.omitBy(m,s.a.isUndefined),t.next=11,i.a.get(c.c+"/supplier/viewFollowupPlanList.do",{params:m});case 11:return y=t.sent,h=parseInt(y.data.data.pageSize),t.next=15,n(O({tableData:y.data.data.supplierFollowupPlanList,pagination:f({},l,{pageSize:h,total:y.data.data.rowCount})}));case 15:return t.abrupt("return",t.sent);case 18:return t.prev=18,t.t0=t.catch(0),t.next=23,n(k());case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},t,p,[[0,18]])}));return function(e,n){return t.apply(this,arguments)}}()},_=function(e){return function(t,n){return t(C(e))}},R=function(e){return function(t,n){return t(j(e))}}}},[1354]);